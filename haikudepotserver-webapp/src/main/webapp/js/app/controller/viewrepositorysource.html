<div class="content-container">

    <div class="info-container" ng-show="didTriggerImportRepositorySource">
        <strong><message key="viewRepositorySource.importTriggered.title"></message> :</strong>
        <message key="viewRepositorySource.importTriggered.description"></message>
    </div>

    <div class="info-container" passive-content="viewrepositorysource.html">
    </div>

    <dl>
        <dt><message key="gen.code.title"></message></dt>
        <dd><code>{{repositorySource.code}}</code>&nbsp;</dd>
        <dt><message key="viewRepositorySource.active.title"></message></dt>
        <dd><active-indicator state="repositorySource.active"></active-indicator>&nbsp;</dd>
        <dt><message key="viewRepositorySource.url.title"></message></dt>
        <dd><a ng-href="{{repositorySource.url}}">{{repositorySource.url}}</a></dd>
        <dt><message key="viewRepositorySource.repoInfoUrl.title"></message></dt>
        <dd>
            <span ng-show="repositorySource.repoInfoUrl">
                <code>{{repositorySource.repoInfoUrl}}</code>
            </span>
            <span ng-show="!repositorySource.repoInfoUrl" class="text-error">
                <message key="viewRepositorySource.repoInfoUrl.undefined"></message>
            </span>
        </dd>
        <dt><message key="viewRepositorySource.repository.title"></message></dt>
        <dd><repository-label repository="repositorySource.repository"></repository-label></dd>
    </dl>

    <ul>
        <li ng-show="canDeactivate()" repository="repositorySource.repository" show-if-repository-permission="'REPOSITORY_EDIT'">
            <a href="" ng-click="goDeactivate()">
                <message key="viewRepositorySource.deactivateAction.title"></message>
            </a>
        </li>
        <li ng-show="canReactivate()" repository="repositorySource.repository" show-if-repository-permission="'REPOSITORY_EDIT'">
            <a href="" ng-click="goReactivate()">
                <message key="viewRepositorySource.reactivateAction.title"></message>
            </a>
        </li>
        <li ng-show="canTriggerImport()" repository="repositorySource.repository" show-if-repository-permission="'REPOSITORY_IMPORT'">
            <a href="" ng-click="goTriggerImport()">
                <message key="viewRepositorySource.triggerImportAction.title"></message>
            </a>
        </li>
        <li repository="repositorySource.repository" show-if-repository-permission="'REPOSITORY_EDIT'">
            <a href="" ng-click="goEdit()">
                <message key="viewRepositorySource.editAction.title"></message>
            </a>
        </li>
    </ul>

</div>

<spinner spin="shouldSpin()"></spinner>

