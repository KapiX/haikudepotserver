<?xml version="1.0" encoding="UTF-8"?>

<!--
Copyright 2015-2016, Andrew Lindesay
Distributed under the terms of the MIT License.
-->

<chapter xmlns="http://docbook.org/ns/docbook" xmlns:xlink="http://www.w3.org/1999/xlink"
         version="5.0" xml:id="datamodel">

    <title>Data Model</title>

    <figure id="datamodel-diagram">
        <title>The persisted data model for the application server.</title>
        <mediaobject>
            <imageobject>
                <imagedata fileref="images/img-datamodel.png" format="PNG"/>
            </imageobject>
        </mediaobject>
    </figure>

    <para>
        In the diagram above, the diagram does not show &quot;modifyTimestamp&quot; nor does it show
        &quot;createTimestamp&quot;.
    </para>

    <section xml:id="datamodel-uniqueidentifiers">
        <title>Unique Identifiers</title>
        <para>
            In general, an artifical attribute used to identify instances has a name of &quot;code&quot;.  In some cases,
            existing nomenclature is already in place and another attribute name has been chosen.  An example of this
            is the &quot;Pkg&quot; entity which is uniquely identified by its attribute &quot;name&quot;.
        </para>
    </section>

    <section>
        <title>Repositories</title>
        <para>
            Repositories are sources of packages.  A repository has a number of repository sources which are URLs
            that Haiku Depot Server can extract HPKR data from in order to get a catalog of what packages are
            available for that repository.  The URL is a base URL and resources are expected to be found at this
            base that provide information about the data in the repository.  You can find out more about the URLs and
            expected resources in the <link linkend="repositories">repository</link> section.
        </para>

        <para>
            Package versions are &quot;siloed&quot; between repositories however
            some data such as localization, iconography and screenshots are shared.
        </para>
    </section>

</chapter>